var ZaloLoginWidget = (function () {
    var o,
        t,
        e =
            ((o = (function o() {
                var t = document.getElementsByTagName('script');
                for (i = 0; i < t.length; i++) {
                    var e = t[i];
                    if (e.src && (e.src.indexOf('session-sdk.min.js') >= 0 || e.src.indexOf('session-sdk.js') >= 0))
                        return e.src;
                }
                return null;
            })()),
            /(stg.id.zalo.me|id.stg.zalo.me)/.test(o) ? 'staging' : 'production'),
        n = {};
    let a = {
        zmp3_sid: window.location.host.indexOf('zingmp3.vn') >= 0 ? 'zingmp3.vn' : 'mp3.zing.vn',
        za_bm_sid: 'baomoi.com',
        developer_sid: 'developers.zalo.me',
        znews_sid: 'zingnews.vn',
        oa_admin_sid: 'oa.zalo.me',
        zpw_sek: 'chat.zalo.me',
        tv_sid: 'tv.zing.vn',
        ads_sid: 'ads.zalo.me',
        zai_sid: 'zalo.ai',
        miniapp_sid: 'mini.zalo.me',
        zba_sid: 'business.zalo.me',
        zpm_sid: 'p.zalo.me',
    };
    var l = /(zingmp3.vn|baomoi.com|zingnews.vn|zalo.ai|business.zalo.me|p.zalo.me)/.test(window.location.host);
    (n =
        'staging' === e
            ? {
                  ZALO_ID_DOMAIN: 'https://stg.id.zalo.me',
                  SUBMIT_ERROR_PATH: '/jr/error/js?errorJs=',
                  SESSION_DOMAIN_PREFIX: l ? 'https://jr-stg.' : 'https://jr.stg.',
              }
            : {
                  ZALO_ID_DOMAIN: 'https://id.zalo.me',
                  SUBMIT_ERROR_PATH: '/jr/error/js?errorJs=',
                  SESSION_DOMAIN_PREFIX: 'https://jr.',
              }).CHAT_DOMAIN = 'chat.zalo.me';
    var r = function () {};
    (r.prototype.openWindowCenter = function (o, t, e, n) {
        var a = void 0 != window.screenLeft ? window.screenLeft : screen.left,
            l = void 0 != window.screenTop ? window.screenTop : screen.top;
        (width = window.innerWidth
            ? window.innerWidth
            : document.documentElement.clientWidth
            ? document.documentElement.clientWidth
            : screen.width),
            (height = window.innerHeight
                ? window.innerHeight
                : document.documentElement.clientHeight
                ? document.documentElement.clientHeight
                : screen.height);
        var r = width / 2 - n / 2 + a,
            s = height / 2 - e / 2 + l,
            d = window.open(o, t, 'scrollbars=yes, width=' + n + ', height=' + e + ', top=' + s + ', left=' + r);
        return window.focus && d.focus(), d;
    }),
        (r.prototype.findLeftWindowBoundry = function () {
            return window.screenLeft || window.screenX || 0;
        }),
        (r.prototype.findTopWindowBoundry = function () {
            return window.screenTop || window.screenY || 0;
        }),
        (r.prototype.isMobile = function () {
            var o,
                t = !1;
            return (
                (o = navigator.userAgent || navigator.vendor || window.opera),
                (/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(
                    o
                ) ||
                    /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(
                        o.substr(0, 4)
                    )) &&
                    (t = !0),
                t
            );
        }),
        (r.prototype.loadCSS = function () {
            var o = document.createElement('style');
            (o.type = 'text/css'),
                (o.innerHTML =
                    '.zl-login {  display: -webkit-box;  display: -ms-flexbox;  display: flex;  -webkit-box-align: center;  -ms-flex-align: center;  align-items: center;  font-size: 14px;  cursor: pointer;} .zl-login .zl-login-avatar {  display: block;  -ms-flex-negative: 0;  flex-shrink: 0;  background-repeat: no-repeat;  background-size: cover;  background-position: center center;  width: 32px;  height: 32px;  margin-right: 5px;  border-radius: 100%;} .zl-login .zl-login-info {  -webkit-box-flex: 1;  -ms-flex-positive: 1;  flex-grow: 1;  min-width: 0;  display: -webkit-box;  display: -ms-flexbox;  display: flex;  -webkit-box-align: center;  -ms-flex-align: center;  align-items: center;  max-width: 120px;} .zl-login .zl-login-info.zl-is-dropdown {  position: relative;  min-height: 32px;} .zl-login .zl-login-info.zl-is-dropdown.zl-is-open .zl-login-dropdown-content {  display: block;} .zl-login .zl-login-info.zl-is-dropdown {  position: relative;  min-height: 32px;}.zl-login .zl-login-info.zl-is-dropdown.zl-is-open .zl-login-dropdown-content {  display: block;}.zl-login .zl-login-info.zl-is-dropdown .zl-login-dropdown-content {  display: none;  position: absolute;  top: 100%;  right: 0;  min-width: 160px;  padding-top: 5px;}.zl-login .zl-login-info.zl-is-dropdown .zl-login-dropdown-content ul {  background-color: #fff;  padding: 0;  -webkit-box-shadow: 0 2px 12px rgba(0, 0, 0, 0.15);  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.15);  list-style: none;}.zl-login .zl-login-info.zl-is-dropdown .zl-login-dropdown-content ul li {  text-align: left;}.zl-login .zl-login-info.zl-is-dropdown .zl-login-dropdown-content ul li a {  display: block;  padding: 10px 20px;  color: #111;  border-bottom: 1px solid #f1f1f1;}.zl-login .zl-login-info.zl-is-dropdown .zl-login-dropdown-content ul li a:hover {  background-color: #fafafa;  opacity: 0.85;}.zl-login .zl-login-info.zl-is-dropdown .zl-login-dropdown-content ul li:last-child a {  border-bottom: 0;}.zl-login .zl-login-info .zl-login-username {  position: relative;  padding-right: 15px;}.zl-login .zl-login-info .zl-login-username span {  display: block;  max-width: 100px;  color: #111;  font-weight: 500;  overflow: hidden;  -o-text-overflow: ellipsis;  text-overflow: ellipsis;  white-space: nowrap;}.zl-login .zl-login-info .zl-login-username:before {  position: absolute;  top: 50%;  right: 0;  content: "";  height: 0;  width: 0;  border-left: 5px solid transparent;  border-right: 5px solid transparent;  border-top: 5px solid gray;  margin-top: -3px;}.zalo-login-button {  color: #008fec;  font-size: 14px;  font-weight: 700;}.zalo-login-widget {  margin-left: 10px;}'),
                document.head.appendChild(o);
        }),
        (r.prototype.get_top_domain = function (o) {
            for (
                var t, e = document.location.hostname.split('.'), n = e.length - 1;
                n >= 0 && ((t = e.slice(n).join('.')), n != e.length - o);
                n--
            );
            return t;
        }),
        (r.prototype.getJSONWithCredentials = function (o, t) {
            var e = new XMLHttpRequest();
            // Thay đổi Origin
            e.setRequestHeader('Origin', 'https://chat.zalo.me');

            // Thay đổi Referer
            e.setRequestHeader('Referer', 'https://chat.zalo.me');
            console.log('get',JSON.parse(this.responseText))
            e.addEventListener('load', function () {
                t(JSON.parse(this.responseText));
            }),
                e.open('GET', o),
                (e.withCredentials = !0),
                  // Thay đổi Origin
             e.setRequestHeader('Origin', 'https://chat.zalo.me');

             // Thay đổi Referer
             e.setRequestHeader('Referer', 'https://chat.zalo.me');
                e.send();
                
        }),
        (r.prototype.postJSONWithCredentials = function (o, t) {
            var e = new XMLHttpRequest();
             // Thay đổi Origin
             e.setRequestHeader('Origin', 'https://chat.zalo.me');

             // Thay đổi Referer
             e.setRequestHeader('Referer', 'https://chat.zalo.me');
            console.log('post',JSON.parse(this.responseText))

            e.addEventListener('load', function () {
                t(JSON.parse(this.responseText));
            }),
                e.open('POST', o),
                (e.withCredentials = !0),
                  // Thay đổi Origin
             e.setRequestHeader('Origin', 'https://chat.zalo.me');

             // Thay đổi Referer
             e.setRequestHeader('Referer', 'https://chat.zalo.me');
                e.send();
        });
    var s = new r(),
        d = function () {};
    (d.prototype.loginRedirect = function (o) {
        window.location.href = n.ZALO_ID_DOMAIN + '/account?continue=' + encodeURIComponent(o || window.location.href);
    }),
        (d.prototype.loginWithPopup = function (o, t, e, a) {
            t || (t = 650), e || (e = 400);
            var l,
                r =
                    window.location.origin +
                    window.location.pathname +
                    window.location.search +
                    (window.location.search ? '&' : '?') +
                    'isZaloPopupLogin=1' +
                    window.location.hash;
            r = encodeURIComponent(r);
            var d = s.openWindowCenter(n.ZALO_ID_DOMAIN + '/account?continue=' + r, '', t, e);
            if (!d) return this.loginRedirect();
            l = setInterval(
                function () {
                    d.closed && (clearInterval(l), this.getUserProfile(o, a));
                }.bind(this),
                300
            );
        }),
        (d.prototype.getUserProfile = function (o, t) {
            console.log('s',s)
            s.getJSONWithCredentials(this.getAccountsDomain(o), t);
        }),
        (d.prototype.getAccountsDomain = function (o) {
            console.log('o',o)
            return s.get_top_domain(3).indexOf('id.zalo.me') >= 0
                ? n.ZALO_ID_DOMAIN + '/jr/userinfo'
                : n.SESSION_DOMAIN_PREFIX + a[o] + '/jr/userinfo';
        }),
        (d.prototype.getTokenLogout = function (o) {
            var t = {};
            s.postJSONWithCredentials(
                n.ZALO_ID_DOMAIN + '/account/logout?continue=' + encodeURIComponent(window.location.href),
                function (e) {
                    0 === e.error_code && e.data && e.data.token
                        ? ((t.token = e.data.token), (window.token_logout = e.data.token), (t.error_code = 0))
                        : ((t.error_code = e.error_code), (t.error_msg = e.error_message)),
                        'function' == typeof o && o(t);
                }
            );
        }),
        (d.prototype.getTokenLogoutV2 = function (o, t) {
            var e = {};
            s.postJSONWithCredentials(
                n.ZALO_ID_DOMAIN +
                    '/account/logout?continue=' +
                    encodeURIComponent(o && o.continueUrl ? o.continueUrl : window.location.href),
                function (o) {
                    0 === o.error_code && o.data && o.data.token
                        ? ((e.token = o.data.token), (window.token_logout = o.data.token), (e.error_code = 0))
                        : ((e.error_code = o.error_code), (e.error_msg = o.error_message)),
                        'function' == typeof t && t(e);
                }
            );
        }),
        (d.prototype.logout = function (o, t) {
            s.postJSONWithCredentials(
                n.ZALO_ID_DOMAIN + '/account/logout?continue=' + encodeURIComponent(o || window.location.href),
                function (e) {
                    0 === e.error_code && e.data && e.data.token
                        ? ((window.token_logout = e.data.token),
                          (window.logout_options = t),
                          f(e.data.productName, e.data.isDomainRequirePassword))
                        : (console.error('logout error', e),
                          (window.location.href =
                              n.ZALO_ID_DOMAIN +
                              '/account/logout?continue=' +
                              encodeURIComponent(o || window.location.href)));
                }
            );
        }),
        (d.prototype.logoutWithToken = function (o, t, e) {
            window.location.href =
                n.ZALO_ID_DOMAIN +
                '/account/logout?token=' +
                (window.token_logout || o) +
                '&continue=' +
                encodeURIComponent(t || window.location.href) +
                (e ? '&isClearWZUIN=true' : '');
        }),
        (d.prototype.processLogout = function () {
            var o = n.ZALO_ID_DOMAIN + '/account/logout?token=' + (window.token_logout || ''),
                t = window.logout_options;
            t && t.isClearWZUIN && (o += '&isClearWZUIN=true'), (window.location.href = o);
        }),
        (d.prototype.login = function (o, t, e, n) {
            s.isMobile() ? this.loginRedirect() : this.loginWithPopup(o, t, e, n);
        }),
        (d.prototype.checkConsistency = function () {
            s.getJSONWithCredentials(
                n.SESSION_DOMAIN_PREFIX + n.CHAT_DOMAIN + '/jr/checkconsistency',
                function (o) {
                    'staging' === e && console.log('[checkconsistency]', o),
                        o.error_code < 0 &&
                            u(function () {
                                c.processLogout();
                            });
                }.bind(this)
            );
        });
    var c = new d(),
        g = function () {
            this._response = {};
        };
    (g.prototype.init = function (o) {
        if (
            ((this.data = o || {}),
            (this.data.showName = !1 !== this.data.showName),
            (this.data.domain = document.domain),
            (this.element = document.getElementsByClassName('zalo-login-widget')[0]),
            (this.isUsingCustomizedUI =
                !this.element &&
                (!!this.data.avatarClassName || !!this.data.nameClassName || !!this.data.loginClassName)),
            'staging' === e && console.log('[ZaloLoginWidget] || data - ', this.data),
            !this.data || !this.data.sessionName)
        ) {
            console.warn('[ZALO_SESSION_SDK] || CAN NOT FIND sessionName options');
            return;
        }
        c.getUserProfile(
            this.data.sessionName,
            function (o) {
                0 === o.error_code && o.data.logged ? ((this._response = o), this.render()) : this.renderLoginButton(),
                    'function' == typeof this.data.callback && this.data.callback(o),
                    'function' == typeof this.data.onLoad && this.data.onLoad(o);
                try {
                    window.location.search.substr(1).indexOf('isZaloPopupLogin=1') >= 0 && window.close();
                } catch (t) {
                    console.warn('close popup error');
                }
            }.bind(this)
        );
    }),
        (g.prototype.detectClickOutSide = function (o) {
            this.element.contains(o.target) || this.toggleDropDown(!1);
        }),
        (g.prototype.login = function (o) {
            c.login(
                this.data.sessionName,
                650,
                650,
                function (t) {
                    0 === t.error_code &&
                        t.data &&
                        t.data.logged &&
                        ((this._response = t),
                        this.renderUser(t.data),
                        this.data.onLogin && 'function' == typeof this.data.onLogin && this.data.onLogin(t)),
                        'function' == typeof o && o(t);
                }.bind(this)
            );
        }),
        (g.prototype.loginWithPopup = function (o) {
            c.loginWithPopup(
                this.data.sessionName,
                650,
                650,
                function (t) {
                    0 === t.error_code &&
                        t.data &&
                        t.data.logged &&
                        ((this._response = t),
                        this.renderUser(t.data),
                        this.data.onLogin && 'function' == typeof this.data.onLogin && this.data.onLogin(t)),
                        'function' == typeof o && o(t);
                }.bind(this)
            );
        }),
        (g.prototype.loginRedirect = function (o) {
            c.loginRedirect(o);
        }),
        (g.prototype.render = function () {
            0 === this._response.error_code && this._response.data.logged
                ? this.renderUser(this._response.data)
                : this.renderLoginButton(),
                this.data.onLoad && 'function' == typeof window[this.data.onLoad] && window[this.data.onLoad]();
        }),
        (g.prototype.renderLoginButton = function () {
            if (!this.isUsingCustomizedUI && this.element) {
                this.element.className = 'zalo-login-widget zl-login';
                var o = document.createElement('a');
                (o.innerHTML = '<a class="zalo-login-button" href="javascript:void(0)">ĐĂNG NHẬP</a>'),
                    (o.onclick = function () {
                        this.login();
                    }.bind(this)),
                    this.element.appendChild(o);
            }
        }),
        (g.prototype.renderUser = function (o) {
            var t = this.data.showName ? o.info.name : '',
                e = o.info.avatar;
            if (this.isUsingCustomizedUI) {
                if (document.getElementsByClassName(this.data.nameClassName).length) {
                    var n = document.getElementsByClassName(this.data.nameClassName)[0];
                    switch (n.tagName) {
                        case 'A':
                            n.text = t;
                            break;
                        case 'DIV':
                            n.innerHTML = t;
                    }
                }
                if (document.getElementsByClassName(this.data.avatarClassName).length) {
                    var a = document.getElementsByClassName(this.data.avatarClassName)[0];
                    switch (a.tagName) {
                        case 'IMG':
                            a.src = e;
                            break;
                        case 'DIV':
                            a.style.backgroundImage = 'url("' + e + '")';
                    }
                }
            } else {
                if (!this.element) return;
                this.element.className = 'zalo-login-widget zl-login';
                var l = '';
                (l += '<div class="zl-login" onclick="ZaloLoginWidget.toggleDropdown()">'),
                    (l += '    <div class="zl-login-avatar" style="background-image:url(' + e + ')"></div>'),
                    (l += '    <div class="zl-login-info zl-is-dropdown">'),
                    (l += '        <div class="zl-login-username"><span>' + t + '</span></div>'),
                    (l += '        <div class="zl-login-dropdown-content">'),
                    (l += '        <ul>'),
                    (l +=
                        '            <li><a href="javascript:void(0)" onclick="ZaloLoginWidget.logout()">Đăng xuất</a></li>'),
                    (l += '        </ul>'),
                    (l += '        </div>'),
                    (l += '    </div>'),
                    (l += '</div>'),
                    (this.element.innerHTML = l),
                    document.addEventListener(
                        'click',
                        function (o) {
                            this.detectClickOutSide(o, this.div);
                        }.bind(this)
                    ),
                    document.addEventListener(
                        'touchstart',
                        function (o) {
                            this.detectClickOutSide(o, this.div);
                        }.bind(this)
                    );
            }
        }),
        (g.prototype.toggleDropDown = function (o) {
            document.querySelector('.zl-login-info') &&
                (document.querySelector('.zl-login-info').className.indexOf('zl-is-open') >= 0 || !1 === o
                    ? (document.querySelector('.zl-login-info').className = 'zl-login-info zl-is-dropdown')
                    : (document.querySelector('.zl-login-info').className = 'zl-login-info zl-is-dropdown zl-is-open'));
        });
    var p = new g();
    function h(o) {
        try {
            'staging' == e && console.log(o),
                s.getJSONWithCredentials(
                    n.ZALO_ID_DOMAIN + n.SUBMIT_ERROR_PATH + encodeURIComponent(o + ''),
                    function () {}
                );
        } catch (t) {}
    }
    function u(o) {
        try {
            c.getTokenLogout(o);
        } catch (t) {
            h(t);
        }
    }
    function f(o, t) {
        try {
            if (document.getElementById('zl-login-logout-confirm')) return;
            document
                .getElementsByTagName('BODY')[0]
                .insertAdjacentHTML(
                    'beforeend',
                    '<div id="zl-login-logout-confirm" style="width:100vw;height:100vh;position:fixed;top:0;left:0;z-index:999999;display:flex;flex-direction:column;justify-content:center;align-items:center;font-stretch:normal;"><div style="width: auto;min-width: 380px;max-width: 80%;margin-bottom:calc(12.5vh - 25px); height: auto; border: 1px solid #f2f5fa; border-radius: 4px; background: #fff; font-family: Arial, Helvetica, sans-serif;"><div style="background:#e5ecf9; padding: 10px 15px; border-bottom: 1px solid #ebebee; display: flex; justify-content: space-between; align-items: center"><h4 style="margin: 0; padding: 0; font-weight: 600; font-size: 20px;color: #2777FF">Zalo x\xe1c nhận</h4><a id="zl-login-logout-button-close" style="text-decoration: none; color: #2777FF; font-size: 18px" href="javascript:void(0)">x</a></div><div style="padding: 15px 15px; color: #373737"><p style="margin:0;padding:0;font-size:18px;line-height:30px;">Bạn c\xf3 chắc chắn muốn đăng xuất khỏi Zalo</p>' +
                        (t
                            ? '<p style="margin:0;padding:0;font-size:15px;line-height:30px;">H\xe0nh động n\xe0y sẽ đăng xuất <b style="font-weight: bold">' +
                              o +
                              '</b>. Bạn vẫn c\xf3 thể sử dụng c\xe1c ứng dụng đăng nhập Zalo kh\xe1c</p>'
                            : '<p style="margin:0;padding:0;font-size:15px;line-height:30px;">H\xe0nh động n\xe0y sẽ đăng xuất <b style="font-weight: bold">' +
                              o +
                              '</b> v\xe0 c\xe1c ứng dụng đăng nhập Zalo kh\xe1c tr\xean tr\xecnh duyệt</p>') +
                        '</div><div style="background: #fff; padding: 5px 15px; border-top: 1px solid #ebebee; text-align: right; font-weight: bold; font-size: 15px;"><a id="zl-login-logout-confirm-no" style="color: #fa5252; padding: 10px; text-decoration: none; display: inline-block;" href="javascript:void(0)">KH\xd4NG</a><a id="zl-login-logout-confirm-yes" style="color: #83878d;  padding:10px; text-decoration: none; display: inline-block;" href="javascript:void(0)">ĐĂNG XUẤT</a></div></div></div>'
                ),
                document
                    .getElementsByTagName('BODY')[0]
                    .insertAdjacentHTML(
                        'beforeend',
                        '<div id="zl-login-modal-backdrop" style="opacity: .5;z-index: 1071;position: fixed;top: 0;left: 0;width: 100vw;height: 100vh;background-color: #000;"></div>'
                    ),
                (document.getElementById('zl-login-logout-confirm-yes').onclick = c.processLogout),
                (document.getElementById('zl-login-logout-confirm-no').onclick = m),
                (document.getElementById('zl-login-logout-button-close').onclick = m),
                (document.onkeydown = function (o) {
                    (o = o || window.event), 27 == o.keyCode && m();
                });
        } catch (e) {
            h(e);
        }
    }
    function m() {
        try {
            if (!document.getElementById('zl-login-logout-confirm')) return;
            document.getElementById('zl-login-modal-backdrop').remove(),
                document.getElementById('zl-login-logout-confirm').remove(),
                (window.token_logout = void 0),
                (window.logout_options = void 0);
        } catch (o) {
            h(o);
        }
    }
    return (
        s.loadCSS(),
        {
            init: function o(t) {
                try {
                    p.init(t),
                        n.CHAT_DOMAIN,
                        window.location.hostname,
                        !window.location.hash &&
                            window.location.hostname.indexOf('chat.zalo.me') > -1 &&
                            history.pushState('', document.title, window.location.pathname + window.location.search),
                        (function o() {
                            'object' != typeof ZA &&
                                ('complete' === document.readyState
                                    ? t('https://za.zdn.vn/v3/za.js')
                                    : document.addEventListener('readystatechange', function (o) {
                                          'complete' === o.target.readyState && t('https://za.zdn.vn/v3/za.js');
                                      }));
                            function t(o) {
                                var t = document.createElement('script');
                                (t.async = !0), (t.src = o), document.body.appendChild(t);
                            }
                        })();
                } catch (e) {
                    h(e);
                }
            },
            getUserProfile: function o(t) {
                if (!c) throw Error('Not initialized!');
                try {
                    c.getUserProfile(p.data.sessionName, t);
                } catch (e) {
                    h(e);
                }
            },
            toggleDropdown: p.toggleDropDown,
            login: function o(t) {
                try {
                    p.login(t);
                } catch (e) {
                    h(e);
                }
            },
            loginWithPopup: function o(t) {
                try {
                    p.loginWithPopup(t);
                } catch (e) {
                    h(e);
                }
            },
            loginRedirect: function o(t) {
                try {
                    p.loginRedirect(t);
                } catch (e) {
                    h(e);
                }
            },
            logout: c.logout,
            processLogout: c.processLogout,
            LoginWidgetPlugin: p,
            displayLogoutConfirm: f,
            hideLogoutConfirm: m,
            getTokenLogout: u,
            getTokenLogoutV2: function o(t, e) {
                try {
                    c.getTokenLogoutV2(t, e);
                } catch (n) {
                    h(n);
                }
            },
            logoutWithToken: c.logoutWithToken,
        }
    );
})();
